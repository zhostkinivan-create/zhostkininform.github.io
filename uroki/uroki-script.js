// Простой скрипт для страницы уроков
document.addEventListener('DOMContentLoaded', function() {
    // Данные по классам
    const classesData = {
        6: {
            themes: [
                { id: 1, name: "Информация и информационные процессы", lessons: 8 },
                { id: 2, name: "Компьютер как универсальное устройство", lessons: 9 },
                { id: 3, name: "Обработка графической информации", lessons: 9 },
                { id: 4, name: "Обработка текстовой информации", lessons: 9 }
            ],
            lessonsData: {
                1: [
                    "Понятие информации. Виды информации",
                    "Информационные процессы",
                    "Измерение информации",
                    "Перевод единиц измерения",
                    "Кодирование информации",
                    "Кодирование графической информации",
                    "Кодирование звуковой информации",
                    "Контрольная работа по теме 1"
                ],
                2: [
                    "Устройство компьютера",
                    "Основные компоненты ПК",
                    "Периферийные устройства",
                    "Программное обеспечение",
                    "Операционные системы",
                    "Файловая система",
                    "Работа с файлами и папками",
                    "Компьютерные сети",
                    "Контрольная работа по теме 2"
                ],
                3: [
                    "Графические редакторы",
                    "Инструменты рисования",
                    "Работа с цветом",
                    "Слои в графике",
                    "Создание коллажа",
                    "Растровая графика",
                    "Векторная графика",
                    "Создание логотипа",
                    "Контрольная работа по теме 3"
                ],
                4: [
                    "Текстовые редакторы",
                    "Форматирование текста",
                    "Работа со шрифтами",
                    "Создание списков",
                    "Вставка изображений",
                    "Создание таблиц",
                    "Колонтитулы и сноски",
                    "Создание реферата",
                    "Итоговая контрольная работа"
                ]
            }
        },
        7: {
            themes: [
                { id: 1, name: "Алгоритмизация и программирование", lessons: 9 },
                { id: 2, name: "Базы данных и информация", lessons: 8 },
                { id: 3, name: "Компьютерная графика", lessons: 9 },
                { id: 4, name: "Мультимедиа технологии", lessons: 9 }
            ],
            lessonsData: {
                1: [
                    "Понятие алгоритма",
                    "Виды алгоритмов",
                    "Блок-схемы алгоритмов",
                    "Линейные алгоритмы",
                    "Ветвления в алгоритмах",
                    "Циклы в алгоритмах",
                    "Алгоритмы с параметрами",
                    "Составление алгоритмов",
                    "Контрольная по алгоритмам"
                ],
                2: [
                    "Понятие базы данных",
                    "Табличные базы данных",
                    "Поля и записи",
                    "Сортировка данных",
                    "Поиск в базах данных",
                    "Фильтрация данных",
                    "Создание простой БД",
                    "Контрольная по БД"
                ],
                3: [
                    "Растровая графика",
                    "Векторная графика",
                    "Цветовые модели",
                    "Редактирование изображений",
                    "Создание коллажей",
                    "Анимация изображений",
                    "3D графика основы",
                    "Работа в графическом редакторе",
                    "Контрольная по графике"
                ],
                4: [
                    "Понятие мультимедиа",
                    "Цифровое фото",
                    "Цифровое видео",
                    "Обработка звука",
                    "Создание презентаций",
                    "Интерактивные элементы",
                    "Веб-дизайн основы",
                    "Создание сайта-визитки",
                    "Итоговый проект"
                ]
            }
        },
        8: {
            themes: [
                { id: 1, name: "Основы программирования на Python", lessons: 9 },
                { id: 2, name: "Веб-технологии", lessons: 8 },
                { id: 3, name: "Компьютерные сети", lessons: 9 },
                { id: 4, name: "Информационная безопасность", lessons: 9 }
            ],
            lessonsData: {
                1: [
                    "Введение в Python",
                    "Переменные и типы данных",
                    "Условные операторы",
                    "Циклы в Python",
                    "Функции в Python",
                    "Списки и массивы",
                    "Работа со строками",
                    "Файлы в Python",
                    "Мини-проект на Python"
                ],
                2: [
                    "Основы HTML",
                    "Стили CSS",
                    "Создание веб-страницы",
                    "Формы на сайте",
                    "Основы JavaScript",
                    "Адаптивный дизайн",
                    "Публикация сайта",
                    "Контрольная по веб-технологиям"
                ],
                3: [
                    "Типы компьютерных сетей",
                    "Топологии сетей",
                    "Сетевые протоколы",
                    "Интернет и WWW",
                    "Электронная почта",
                    "Облачные технологии",
                    "Социальные сети",
                    "Сетевая безопасность",
                    "Контрольная по сетям"
                ],
                4: [
                    "Угрозы информации",
                    "Защита данных",
                    "Криптография основы",
                    "Антивирусные программы",
                    "Безопасность в интернете",
                    "Электронная подпись",
                    "Защита персональных данных",
                    "Этика в сети",
                    "Контрольная по безопасности"
                ]
            }
        },
        9: {
            themes: [
                { id: 1, name: "Объектно-ориентированное программирование", lessons: 9 },
                { id: 2, name: "Базы данных и СУБД", lessons: 8 },
                { id: 3, name: "Компьютерное моделирование", lessons: 9 },
                { id: 4, name: "Подготовка к экзаменам", lessons: 9 }
            ],
            lessonsData: {
                1: [
                    "Классы и объекты",
                    "Наследование",
                    "Полиморфизм",
                    "Инкапсуляция",
                    "Методы и свойства",
                    "Конструкторы",
                    "Работа с классами",
                    "Проект ООП",
                    "Контрольная по ООП"
                ],
                2: [
                    "Реляционные БД",
                    "SQL основы",
                    "Запросы SELECT",
                    "Изменение данных",
                    "Создание таблиц",
                    "Связи между таблицами",
                    "Нормализация БД",
                    "Контрольная по СУБД"
                ],
                3: [
                    "Понятие моделирования",
                    "Математические модели",
                    "Компьютерное моделирование",
                    "Системный анализ",
                    "Имитационные модели",
                    "Моделирование процессов",
                    "Визуализация моделей",
                    "Проект по моделированию",
                    "Контрольная по моделированию"
                ],
                4: [
                    "Повторение алгоритмов",
                    "Повторение программирования",
                    "Повторение БД",
                    "Повторение сетей",
                    "Решение задач",
                    "Тестирование",
                    "Экзаменационные билеты",
                    "Пробный экзамен",
                    "Итоговая подготовка"
                ]
            }
        },
        10: {
            themes: [
                { id: 1, name: "Углубленное программирование", lessons: 9 },
                { id: 2, name: "Веб-разработка", lessons: 8 },
                { id: 3, name: "Компьютерная графика 3D", lessons: 9 },
                { id: 4, name: "Проектная деятельность", lessons: 9 }
            ],
            lessonsData: {
                1: [
                    "Структуры данных",
                    "Алгоритмы сортировки",
                    "Рекурсия",
                    "ООП продвинутый",
                    "Работа с библиотеками",
                    "Отладка программ",
                    "Оптимизация кода",
                    "Командная разработка",
                    "Контрольная по программированию"
                ],
                2: [
                    "HTML5 и CSS3",
                    "JavaScript продвинутый",
                    "Фреймворки",
                    "Работа с API",
                    "Базы данных для веба",
                    "Веб-безопасность",
                    "Развертывание приложений",
                    "Контрольный проект"
                ],
                3: [
                    "3D моделирование",
                    "Текстурирование",
                    "Освещение в 3D",
                    "Анимация 3D объектов",
                    "Рендеринг",
                    "Работа в Blender",
                    "Создание персонажа",
                    "3D для игр",
                    "Портфолио 3D работ"
                ],
                4: [
                    "Выбор темы проекта",
                    "Планирование проекта",
                    "Исследование",
                    "Прототипирование",
                    "Реализация проекта",
                    "Тестирование",
                    "Документирование",
                    "Презентация проекта",
                    "Защита проекта"
                ]
            }
        },
        11: {
            themes: [
                { id: 1, name: "Искусственный интеллект", lessons: 9 },
                { id: 2, name: "Большие данные", lessons: 8 },
                { id: 3, name: "Кибербезопасность", lessons: 9 },
                { id: 4, name: "Подготовка к ЦТ", lessons: 9 }
            ],
            lessonsData: {
                1: [
                    "Введение в ИИ",
                    "Машинное обучение",
                    "Нейронные сети",
                    "Обработка естественного языка",
                    "Компьютерное зрение",
                    "Экспертные системы",
                    "Робототехника",
                    "Этика ИИ",
                    "Проект по ИИ"
                ],
                2: [
                    "Понятие Big Data",
                    "Источники больших данных",
                    "Обработка данных",
                    "Анализ данных",
                    "Визуализация данных",
                    "Хранилища данных",
                    "Data Science основы",
                    "Контрольная по Big Data"
                ],
                3: [
                    "Киберугрозы",
                    "Криптография",
                    "Сетевые атаки",
                    "Защита сетей",
                    "Этичный хакинг",
                    "Форензика",
                    "Законы кибербезопасности",
                    "Кибергигиена",
                    "Контрольная по безопасности"
                ],
                4: [
                    "Анализ ЦТ заданий",
                    "Алгоритмы для ЦТ",
                    "Программирование для ЦТ",
                    "Базы данных для ЦТ",
                    "Сети для ЦТ",
                    "Решения сложных задач",
                    "Тайм-менеджмент на ЦТ",
                    "Пробный ЦТ",
                    "Итоговая подготовка"
                ]
            }
        }
    };

    // Элементы страницы
    const classCards = document.querySelectorAll('.class-card');
    const themesSection = document.querySelector('.themes-section');
    const themesTitle = themesSection.querySelector('h2');
    const themesGrid = document.querySelector('.themes-grid');
    const lessonsSection = document.querySelector('.lessons-section');
    const lessonsTitle = lessonsSection.querySelector('h2');
    const lessonsGrid = document.querySelector('.lessons-grid');
    const pageButtons = document.querySelectorAll('.page-btn');
    
    // Текущий выбор
    let selectedClass = 6;
    let selectedTheme = 1;
    
    // Выбор класса
    classCards.forEach(card => {
        card.addEventListener('click', function() {
            // Убираем активный класс у всех
            classCards.forEach(c => c.classList.remove('active'));
            // Добавляем активный класс текущему
            this.classList.add('active');
            
            // Обновляем выбранный класс
            selectedClass = parseInt(this.dataset.class);
            
            // Обновляем темы для выбранного класса
            updateThemes();
            
            // Показываем темы
            themesSection.style.display = 'block';
            
            // Скрываем уроки до выбора темы
            lessonsSection.style.display = 'none';
        });
    });
    
    // Обновление тем для выбранного класса
    function updateThemes() {
        const classData = classesData[selectedClass];
        themesTitle.innerHTML = `<i class="fas fa-folder-open"></i> Темы для ${selectedClass} класса`;
        
        themesGrid.innerHTML = '';
        
        classData.themes.forEach(theme => {
            const themeCard = document.createElement('div');
            themeCard.className = 'theme-card';
            if (theme.id === 1) themeCard.classList.add('active');
            themeCard.dataset.theme = theme.id;
            
            themeCard.innerHTML = `
                <h3>Тема ${theme.id}</h3>
                <h4>${theme.name}</h4>
                <p>${theme.lessons} уроков</p>
            `;
            
            // Обработчик выбора темы
            themeCard.addEventListener('click', function() {
                // Убираем активный класс у всех
                document.querySelectorAll('.theme-card').forEach(t => t.classList.remove('active'));
                // Добавляем активный класс текущему
                this.classList.add('active');
                
                // Обновляем выбранную тему
                selectedTheme = parseInt(this.dataset.theme);
                
                // Обновляем уроки
                updateLessons();
                
                // Показываем уроки
                lessonsSection.style.display = 'block';
            });
            
            themesGrid.appendChild(themeCard);
        });
        
        // Сбрасываем выбор темы
        selectedTheme = 1;
    }
    
    // Обновление уроков
    function updateLessons() {
        const classData = classesData[selectedClass];
        const lessons = classData.lessonsData[selectedTheme] || [];
        const themeName = classData.themes.find(t => t.id === selectedTheme)?.name || '';
        
        lessonsTitle.innerHTML = `<i class="fas fa-book-open"></i> ${themeName}`;
        
        lessonsGrid.innerHTML = '';
        
        lessons.forEach((lesson, index) => {
            const lessonNumber = index + 1;
            const lessonCard = document.createElement('a');
            lessonCard.href = '#!';
            lessonCard.className = 'lesson-card';
            lessonCard.innerHTML = `
                <div class="lesson-number">${lessonNumber}</div>
                <div class="lesson-info">
                    <h3>${lesson}</h3>
                    <p>Урок ${lessonNumber} из ${lessons.length}</p>
                </div>
            `;
            
            // Обработчик клика
            lessonCard.addEventListener('click', function(e) {
                e.preventDefault();
                // Здесь будет переход на страницу урока
                console.log(`Выбран: ${selectedClass} класс, тема ${selectedTheme}, урок ${lessonNumber}: ${lesson}`);
            });
            
            lessonsGrid.appendChild(lessonCard);
        });
    }
    
    // Пагинация (простая демонстрация)
    pageButtons.forEach(button => {
        button.addEventListener('click', function() {
            // Убираем активный класс у всех
            pageButtons.forEach(btn => btn.classList.remove('active'));
            // Добавляем активный класс текущему
            this.classList.add('active');
        });
    });
    
    // Инициализация (показываем темы для 6 класса)
    updateThemes();
    
    console.log('Страница уроков загружена с разными темами для каждого класса');
});